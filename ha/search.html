<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>문화충전</title>
    <link rel="stylesheet" href="assets/css/reset.min.css">
    <link rel="stylesheet" href="assets/css/style.min.css">
    <script src="https://kit.fontawesome.com/4691863309.js" crossorigin="anonymous"></script>
</head>
<body>
    <header>
        <div data-include="../park/inc/header.html"></div>
    </header>

    <main>
        <section class="up-section">
            <div class="search_form">
                <form id="searchForm" name="searchForm">
                    <fieldset>
                        <span class="search_select">
                            <select name="search_genre" id="search_genre">
                                <option value="genre">장르</option>
                                <option value="dancing">무용</option>
                                <option value="musical">뮤지컬</option>
                                <option value="theater">연극</option>
                                <option value="opera">오페라</option>
                                <option value="concert">콘서트</option>
                                <option value="classic">클래식</option>
                                <option value="etc">기타</option>
                            </select>
                        </span>
                        
                        <span class="search_select">
                            <select name="search_area" id="search_area">
                                <option value="area">지역</option>
                                <option value="Seoul">서울특별시</option>
                                <option value="Busan">부산광역시</option>
                                <option value="Dae-gu">대구광역시</option>
                                <option value="Incheon">인천광역시</option>
                                <option value="Gwangju">광주광역시</option>
                                <option value="Daejeon">대전광역시</option>
                                <option value="Ulsan">울산광역시</option>
                                <option value="Gyeonggi-do">경기도</option>
                                <option value="Gangwon-do">강원도</option>
                                <option value="Chung-cheong bukdo">충청북도</option>
                                <option value="Chung-cheong namdo">충청남도</option>
                                <option value="Jeollabuk do">전라북도</option>
                                <option value="Jeollanam-do">전라남도</option>
                                <option value="Gyeongsangbuk-do">경상북도</option>
                                <option value="Gyeongsangnam-do">경상남도</option>
                                <option value="Jeju">제주특별자치도</option>
                                <option value="Sejong">세종시</option>
                            </select>
                        </span>
                        <span class="search">
                            <input type="text" placeholder="검색어를 입력하세요">
                            <button type="button">
                                <i class="fa-solid fa-magnifying-glass">검색</i>
                            </button>
                        </span>
                    </fieldset>
                </form>
            </div>
            <div class="box1">
                <div class="map">
                    map
                </div>
                <div class="detail">
                    상세정보창
                </div>
            </div>
        </section>

        <section class="down-section">
   
        </section>
    </main>

    <footer>
        <div data-include="../park/inc/footer.html"></div>
    </footer>

    <script src="../../../../node_modules/axios/dist/axios.min.js"></script>
    <script type="module">
        //공연목록
        (async()=>
        {
            let json=null;

            try
            {
                const response=await axios.get("http://localhost:3001/response");
                json=response.data.body.items.item;
                //console.log(json)
            }
            catch(e)
            {
                console.error(e);
                alert("요청을 처리하는데 실패했습니다.");
                return;
            }

            const div=document.createElement("div");
            div.classList.add("div1");
            document.querySelector(".down-section").appendChild(div);

            for(let i=0; i<9; i++)
            {
                const img=document.createElement("img");
                img.setAttribute('src', `${json[i].referenceIdentifier}`);
                img.classList.add('img1');
                document.querySelector(".div1").appendChild(img);

                const h1=document.createElement("h1");
                h1.classList.add("h1_1");
                document.querySelector(".div1").appendChild(h1);
            }

            for(let i=0; i<9; i++)
            {
                document.querySelectorAll(".h1_1")[i].innerHTML=`${json[i].title}`;
            }
            
        })();
    </script>
</body>
</html>